{% extends 'Jobsair_id/base.html' %}
{% load static %}

{% block title %} | Blog{% endblock %}

<!-- Page Content -->
{% block content %}
    <div class="page-heading about-heading header-text" style="background-image: url({% static 'Jobsair_id/assets/images/heading-6-1920x500.jpg' %});">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="text-content">
              <h4>Lorem ipsum dolor sit amet</h4>
              <h2>Blog</h2>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="products">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <div class="row">
            {% for blog in page %}
                <div class="col-md-6">
                  <div class="service-item">
                    <a href="blog-details.html" class="services-item-image"><img src="{% static 'Jobsair_id/assets/images/blog-1-370x270.jpg' %}" class="img-fluid" alt=""></a>
  
                    <div class="down-content">
                      <h4><a href="{% url 'blog_detail' pk=blog.pk %}">{{ blog.title }}</a></h4>
  
                      <p style="margin: 0;"> {{ blog.author }} <br>{{ blog.published_date | date:'d F Y - H:i e'}} &nbsp;&nbsp;|&nbsp;&nbsp; {{ blog.views }}</p>
                    </div>
                  </div>
                </div>
            {% endfor %}

              <div class="col-md-12">
                {% if page.paginator.num_pages > 1 %}
                  <ul class="pages">
                    {% if page.has_previous %}
                      <li><a href="?page=1">First</a></li>
                      <li><a href="?page={{ page.previous_page_number }}"><i class="fa fa-angle-double-left"></i></a></li>
                    {% endif %}
                    {% for i in page.paginator.page_range %}
                      {% if page.number == i %}
                        <li class="active"><a href="#">{{ i }} <span class="sr-only">(current)</span></a></li>
                      {% elif page.number > i|add:"-3" and page.number < i|add:"+3"%}
                        <li><a href="?page={{ i }}">{{ i }}</a></li>
                      {% endif %}
                    {% endfor %}
                    {% if page.has_next %}
                    <li><a href="?page={{ page.next_page_number }}"><i class="fa fa-angle-double-right"></i></a></li>
                    <li><a href="?page={{ page.paginator.num_pages }}">Last</a></li>
                    {% endif %}
                  </ul>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="contact-form">
              <div class="form-group">
                <h5>Blog Search</h5>
              </div>

              <div class="row">
                <div class="col-8">
                  <input type="text" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="basic-addon2">
                </div>

                <div class="col-4">
                  <button class="filled-button" type="button">Go</button>
                </div>
              </div>
            </div>
            {% if user.is_authenticated %}
            <div class="contact-form">
              <form action="{% url 'blog_new' %}">
                <button type="submit" class="filled-button btn-block">Create New Job Post</button>
              </form>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
{% endblock %}